import{_ as e,u as a,s as l,L as o,a6 as t,o as s,c as n,w as r,g as u,i,t as c,h as d,r as m,j as g,z as p,I as f,A as h,ai as F}from"./index.5cd51b9e.js";import{p as _}from"./package.f2fde6e3.js";const b=a(l);var w=e({data:()=>({regForm:{account:"",realname:"",password:"",repass:"",code:""},forget:!1,packData:_,globalConfig:b.globalConfig}),watch:{forget(e){e&&(this.regForm.password="123456")}},mounted(){},methods:{handleInput(e){let a=e.detail.value.replace(/[\u4e00-\u9fa5]/g,"");this.regForm.account=a},sendCode(){if(!this.regForm.account)return o({title:"请输入账号！",icon:"none"}),!1;let e={account:this.regForm.account,type:2};this.$api.LoginApi.sendCode(e).then((e=>{o({title:e.msg,icon:"none"})}))},login(){return""==this.regForm.account?(o({title:"请输入账号！",icon:"none"}),!1):""==this.regForm.realname?(o({title:"请输入用户名或者昵称！",icon:"none"}),!1):""==this.regForm.password&&this.regForm.password.length<6&&this.regForm.password>16?(o({title:"请输入6-16位密码！",icon:"none"}),!1):this.regForm.password!=this.regForm.repass?(o({title:"两次密码输入不相同！",icon:"none"}),!1):void this.$api.LoginApi.register(this.regForm).then((e=>{0==e.code&&setTimeout((()=>{t({url:"/pages/login/index"})}),2e3)}))}}},[["render",function(e,a,l,o,t,_){const b=m("cu-custom"),w=g,x=p,V=f,C=h,k=F;return s(),n(w,null,{default:r((()=>[u(b,{bgColor:"bg-gradual-blue",isBack:!0},{backText:r((()=>[])),content:r((()=>[i("账号注册")])),_:1}),u(w,{style:{height:"100rpx"}}),u(w,{class:"padding im-flex im-rows im-justify-content-center mb-10"},{default:r((()=>[u(w,{class:"im-flex im-rows im-justify-content-center"},{default:r((()=>{var e;return[u(x,{class:"login-logo",src:null!=(e=t.globalConfig.sysInfo.logo)?e:t.packData.logo,mode:"fixWidth"},null,8,["src"])]})),_:1})])),_:1}),u(w,{class:"im-flex im-rows im-justify-content-center"},{default:r((()=>{var e;return[i(c(null!=(e=t.globalConfig.sysInfo.name)?e:t.packData.name),1)]})),_:1}),u(k,null,{default:r((()=>[u(w,{class:"cu-form-group margin-top"},{default:r((()=>[u(w,{class:"title"},{default:r((()=>[i("账号")])),_:1}),u(V,{placeholder:"账号",class:"uni-input",maxlength:"32",name:"input",modelValue:t.regForm.account,"onUpdate:modelValue":a[0]||(a[0]=e=>t.regForm.account=e),onInput:_.handleInput},null,8,["modelValue","onInput"])])),_:1}),u(w,{class:"cu-form-group margin-top"},{default:r((()=>[u(w,{class:"title"},{default:r((()=>[i("用户名/昵称")])),_:1}),u(V,{placeholder:"请输入用户名或昵称",maxlength:"32",name:"input",modelValue:t.regForm.realname,"onUpdate:modelValue":a[1]||(a[1]=e=>t.regForm.realname=e)},null,8,["modelValue"])])),_:1}),parseInt(t.globalConfig.sysInfo.regauth)?(s(),n(w,{key:0,class:"cu-form-group"},{default:r((()=>[u(w,{class:"title"},{default:r((()=>[i("验证码")])),_:1}),u(V,{placeholder:"请输入验证码",maxlength:"6",name:"input",modelValue:t.regForm.code,"onUpdate:modelValue":a[2]||(a[2]=e=>t.regForm.code=e)},null,8,["modelValue"]),u(C,{class:"cu-btn bg-blue shadow",onClick:_.sendCode},{default:r((()=>[i("发送验证码")])),_:1},8,["onClick"])])),_:1})):d("",!0),u(w,{class:"cu-form-group"},{default:r((()=>[u(w,{class:"title"},{default:r((()=>[i("密码")])),_:1}),u(V,{placeholder:"请输入密码",maxlength:"32",type:"password",name:"input",modelValue:t.regForm.password,"onUpdate:modelValue":a[3]||(a[3]=e=>t.regForm.password=e)},null,8,["modelValue"])])),_:1}),u(w,{class:"cu-form-group"},{default:r((()=>[u(w,{class:"title"},{default:r((()=>[i("重复密码")])),_:1}),u(V,{placeholder:"请重复输入密码",maxlength:"32",type:"password",name:"input",modelValue:t.regForm.repass,"onUpdate:modelValue":a[4]||(a[4]=e=>t.regForm.repass=e)},null,8,["modelValue"])])),_:1})])),_:1}),u(w,{class:"flex flex-direction im-login-btn"},{default:r((()=>[u(C,{class:"cu-btn lg bg-blue",onClick:a[5]||(a[5]=e=>_.login())},{default:r((()=>[i("注册")])),_:1})])),_:1}),u(w,{class:"footer-version c-999"},{default:r((()=>{var e;return[i(c(null!=(e=t.globalConfig.sysInfo.name)?e:t.packData.name)+" for "+c(t.packData.version),1)]})),_:1})])),_:1})}],["__scopeId","data-v-97fd348a"]]);export{w as default};
