import{_ as a,y as t,q as s,o as e,c as l,w as c,g as o,i as u,t as n,n as i,d,e as r,F as p,h,r as y,k as g,I as m,j as f}from"./index.5cd51b9e.js";var _=a({name:"search",data:()=>({title:"搜索聊天",keywords:"",allContacts:[],contacts:[],groupList:[],type:1}),watch:{keywords(a){this.search()}},onLoad(a){this.type=a.type,2==this.type?this.title="搜索联系人":3==this.type?this.title="搜索群聊":this.title="搜索聊天"},mounted(){this.allContacts=t("allContacts")},methods:{search(){const a=this.$util.searchObject(this.allContacts,["displayName","name_py","account"],this.keywords),t=[],s=[];a.forEach((a=>{1==a.is_group?s.push(a):t.push(a)})),this.groupList=s,this.contacts=t},openDetails(a){2==this.type&&0==a.is_gourp&&s({url:"/pages/contacts/detail?id="+a.id}),s({url:"/pages/message/chat?id="+a.id})}}},[["render",function(a,t,s,_,k,C){const b=y("cu-custom"),x=g,w=m,v=f,L=y("Empty");return e(),l(v,null,{default:c((()=>[o(b,{bgColor:"bg-gradual-green",isBack:!0},{backText:c((()=>[])),content:c((()=>[u(n(k.title),1)])),_:1}),o(v,{class:"cu-bar bg-white search fixed",style:i([{top:a.CustomBar+"px"}])},{default:c((()=>[o(v,{class:"search-form round"},{default:c((()=>[o(x,{class:"cuIcon-search"}),o(w,{type:"text",modelValue:k.keywords,"onUpdate:modelValue":t[0]||(t[0]=a=>k.keywords=a),placeholder:"输入搜索的关键词","confirm-type":"search"},null,8,["modelValue"])])),_:1})])),_:1},8,["style"]),o(v,{style:{"margin-top":"120rpx"}},{default:c((()=>[k.type<3&&k.contacts.length>0?(e(),l(v,{key:0},{default:c((()=>[o(v,{class:"padding"},{default:c((()=>[u("联系人")])),_:1}),o(v,{class:"cu-list menu-avatar no-padding"},{default:c((()=>[(e(!0),d(p,null,r(k.contacts,((a,t)=>(e(),l(v,{class:"cu-item",key:t,onClick:t=>C.openDetails(a)},{default:c((()=>[o(v,{class:"cu-avatar lg radius mr-15",style:i([{backgroundImage:"url("+a.avatar+")"}])},null,8,["style"]),o(v,{class:"content"},{default:c((()=>[o(v,{class:"c-333"},{default:c((()=>[u(n(a.displayName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):h("",!0),k.groupList.length>0?(e(),l(v,{key:1},{default:c((()=>[o(v,{class:"padding"},{default:c((()=>[u("群聊")])),_:1}),o(v,{class:"cu-list menu-avatar no-padding"},{default:c((()=>[(e(!0),d(p,null,r(k.groupList,((a,t)=>(e(),l(v,{class:"cu-item",key:t,onClick:t=>C.openDetails(a)},{default:c((()=>[o(v,{class:"cu-avatar lg radius mr-15",style:i([{backgroundImage:"url("+a.avatar+")"}])},null,8,["style"]),o(v,{class:"content"},{default:c((()=>[o(v,{class:"c-333"},{default:c((()=>[u(n(a.displayName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):h("",!0),k.groupList.length||k.contacts.length?h("",!0):(e(),l(v,{key:2},{default:c((()=>[o(L,{noDatatext:"暂无数据",textcolor:"#999"})])),_:1}))])),_:1})])),_:1})}]]);export{_ as default};
